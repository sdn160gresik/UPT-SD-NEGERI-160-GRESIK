<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Urutkan Bilangan</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;700&display=swap" rel="stylesheet" />
  <style>
    body {
      background: url('https://i.imgur.com/RYsoKjf.png') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Fredoka', sans-serif;
      text-align: center;
      padding: 20px;
      margin: 0;
    }

    /* Tambahkan style nav */
    nav {
      background: transparent;
      padding: 1rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 1rem;
    }
    nav a {
      text-decoration: none;
      color: #0288d1;
      font-weight: bold;
      background: #d0f0ff;
      padding: 0.5rem 1rem;
      border-radius: 6px;
    }

    .container {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }
    .slot {
      width: 80px;
      height: 40px;
      border: 2px solid;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
    }
    #sourceContainer .slot { background-color: #e0f7fa; border-color: #00acc1; }
    #targetContainer .slot { background-color: #fff9c4; border-color: #fbc02d; }
    .draggable {
      cursor: pointer;
      user-select: none;
      font-weight: bold;
      font-size: 16px;
    }
    .selected {
      outline: 3px solid #ff9800;
      border-radius: 5px;
    }
    .feedback { margin: 10px; font-weight: bold; display: none; }
    .correct { color: green; }
    .wrong { color: red; }
    .button-group { margin-top: 20px; flex-wrap: wrap; justify-content: center; display: flex; gap: 10px; }
    .btn {
      padding: 10px 20px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #ccc;
    }
    .btn-check { background-color: #4caf50; color: white; }
    .btn-reset { background-color: #f44336; color: white; }
    @media (max-width: 600px) {
      .slot {
        width: 70px;
        height: 50px;
        font-size: 18px;
      }
      .draggable {
        font-size: 18px;
      }
      .btn {
        width: 100%;
        font-size: 18px;
      }
      h2, #skorAkhir h3, #skorAkhir p {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>

  <!-- Nav baru -->
  <nav>
    <a href="index.html">🏠 Beranda</a>
    <a href="kelas.html">📚 Kembali ke Kelas</a>
    <a href="Lembah-Matematika-Kelas5.html">🧮 Menu Matematika</a>
  </nav>

  <h2 id="judul">Urutkan Bilangan</h2>
  <div class="container" id="targetContainer"></div>
  <div class="container" id="sourceContainer"></div>
  <div class="feedback correct" id="feedbackCorrect">✅ Jawaban benar!</div>
  <div class="feedback wrong" id="feedbackWrong">❌ Jawaban salah, klik tombol reset untuk melanjutkan!</div>
  <div class="feedback" id="skorAkhir"></div>
  <div id="timer" style="font-weight: bold; margin: 10px;">⏱️ Waktu: <span id="waktu">0</span> detik</div>
  <div id="bintang" style="font-size: 24px; color: gold; margin: 10px;"></div>

  <div class="button-group" id="tombolKontrol">
    <button class="btn btn-check" onclick="checkAnswer()">✔️ Periksa Jawaban</button>
    <button class="btn btn-reset" onclick="resetSoal()">🔄 Reset</button>
  </div>

  <audio id="audioTempel" src="suara-tempel.mp3"></audio>
  <audio id="audioBenar" src="suara-benar.mp3"></audio>
  <audio id="audioSalah" src="failure-1-89170.mp3"></audio>

  <script>
    /* script tetap sama seperti file asli */
    // ... (gunakan script dari file asli)
  </script>

<script>
let currentSoal = 0;
let skor = 0;
let salah = 0;
let totalBintang = 0;
let totalWaktu = 0;
let waktuMulai = null;
let timerInterval = null;
let timerStarted = false;
let selectedItem = null;

let soalListOriginal = [
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["21.745", "24.019", "21.067", "24.781", "35.120"], jawaban: ["21.067", "21.745", "24.019", "24.781", "35.120"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["23.145", "27.832", "29.881", "27.001", "23.455"], jawaban: ["23.145", "23.455", "27.001", "27.832", "29.881"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["33.945", "30.619", "39.002", "30.789", "33.510"], jawaban: ["30.619", "30.789", "33.510", "33.945", "39.002"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["39.078", "25.193", "40.000", "25.925", "39.219"], jawaban: ["25.193", "25.925", "39.078", "39.219", "40.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["39.000", "22.081", "35.781", "35.072", "22.511"], jawaban: ["22.081", "22.511", "35.072", "35.781", "39.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["41.987", "46.338", "41.236", "55.999", "46.210"], jawaban: ["41.236", "41.987", "46.210", "46.338", "55.999"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["43.228", "50.291", "60.000", "50.941", "43.552"], jawaban: ["43.228", "43.552", "50.291", "50.941", "60.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["49.177", "55.412", "41.650", "49.507", "41.759"], jawaban: ["41.650", "41.759", "49.177", "49.507", "55.412"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["58.463", "60.000", "42.110", "42.876", "58.088"], jawaban: ["42.110", "42.876", "58.088", "58.463", "60.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["59.999", "48.012", "57.947", "57.033", "48.460"], jawaban: ["48.012", "48.460", "57.033", "57.947", "59.999"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["61.011", "67.917", "71.000", "67.992", "61.597"], jawaban: ["61.011", "61.597", "67.917", "67.992", "71.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["66.978", "80.000", "71.098", "71.581", "66.038"], jawaban: ["66.038", "66.978", "71.098", "71.581", "80.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["79.278", "71.397", "66.700", "71.339", "66.810"], jawaban: ["66.700", "66.810", "71.339", "71.397", "79.278"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["62.179", "66.789", "75.778", "66.400", "62.840"], jawaban: ["62.179", "62.840", "66.400", "66.789", "75.778"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["68.381", "80.000", "72.971", "72.044", "68.123"], jawaban: ["68.123", "68.381", "72.044", "72.971", "80.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["81.031", "89.978", "81.012", "89.169", "90.255"], jawaban: ["81.012", "81.031", "89.169", "89.978", "90.255"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["80.888", "92.387", "80.087", "85.978", "85.778"], jawaban: ["80.087", "80.888", "85.778", "85.978", "92.387"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["90.286", "90.077", "98.100", "87.541", "87.510"], jawaban: ["87.510", "87.541", "90.077", "90.286", "98.100"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["98.201", "85.339", "92.668", "92.674", "85.944"], jawaban: ["85.339", "85.944", "92.668", "92.674", "98.201"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["85.985", "99.387", "100.000", "99.087", "85.369"], jawaban: ["85.369", "85.985", "99.087", "99.387", "100.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["21.987", "98.017", "85.399", "70.400", "45.273"], jawaban: ["21.987", "45.273", "70.400", "85.399", "98.017"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["98.385", "49.355", "71.227", "55.987", "88.464"], jawaban: ["49.355", "55.987", "71.227", "88.464", "98.385"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["43.287", "55.941", "80.221", "92.378", "65.412"], jawaban: ["43.287", "55.941", "65.412", "80.221", "92.378"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["92.188", "85.978", "50.012", "50.120", "85.276"], jawaban: ["50.012", "50.120", "85.276", "85.978", "92.188"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["100.000", "98.321", "56.394", "47.221", "77.381"], jawaban: ["47.221", "56.394", "77.381", "98.321", "100.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["21.745", "24.019", "21.067", "24.781"], jawaban: ["21.067", "21.745", "24.019", "24.781"] },
  { instruksi: "Urutkan dari Terbesar ke Terkecil", angka: ["33.945", "30.619", "39.002", "33.510"], jawaban: ["39.002", "33.945", "33.510", "30.619"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["72.000", "74.000", "71.000", "73.000"], jawaban: ["71.000", "72.000", "73.000", "74.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["89.000", "88.000", "90.000", "87.000"], jawaban: ["87.000", "88.000", "89.000", "90.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["69.800", "69.500", "69.700", "69.600"], jawaban: ["69.500", "69.600", "69.700", "69.800"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["76.000", "77.000", "75.000", "78.000"], jawaban: ["75.000", "76.000", "77.000", "78.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["55.500", "54.500", "55.000", "54.000"], jawaban: ["54.000", "54.500", "55.000", "55.500"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["66.000", "66.800", "66.400", "66.200"], jawaban: ["66.000", "66.200", "66.400", "66.800"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["84.000", "84.300", "84.200", "84.100"], jawaban: ["84.000", "84.100", "84.200", "84.300"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["95.400", "95.000", "95.200", "95.100"], jawaban: ["95.000", "95.100", "95.200", "95.400"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["59.500", "58.000", "59.000", "58.500"], jawaban: ["58.000", "58.500", "59.000", "59.500"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["88.700", "88.500", "88.900", "88.600"], jawaban: ["88.500", "88.600", "88.700", "88.900"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["68.900", "68.600", "68.800", "68.700"], jawaban: ["68.600", "68.700", "68.800", "68.900"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["70.000", "70.200", "70.100", "70.300"], jawaban: ["70.000", "70.100", "70.200", "70.300"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["90.100", "90.000", "90.200", "90.300"], jawaban: ["90.000", "90.100", "90.200", "90.300"] },
  { instruksi: "Urutkan dari Terbesar ke Terkecil", angka: ["100.000", "99.000", "98.000", "97.000"], jawaban: ["100.000", "99.000", "98.000", "97.000"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["76.800", "76.200", "76.600", "76.400"], jawaban: ["76.200", "76.400", "76.600", "76.800"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["80.000", "80.300", "80.200", "80.100"], jawaban: ["80.000", "80.100", "80.200", "80.300"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["91.100", "91.000", "91.200", "91.300"], jawaban: ["91.000", "91.100", "91.200", "91.300"] },
  { instruksi: "Urutkan dari Terkecil ke Terbesar", angka: ["67.900", "67.700", "67.800", "68.000"], jawaban: ["67.700", "67.800", "67.900", "68.000"] }
];

let soalList = [...soalListOriginal].sort(() => Math.random() - 0.5).slice(0, 5);

function handleTap(item) {
  if (!timerStarted) startTimer();
  if (selectedItem) selectedItem.classList.remove("selected");
  selectedItem = item;
  item.classList.add("selected");
}

function handleSlotTap(slot) {
  if (selectedItem && slot.children.length === 0) {
    slot.appendChild(selectedItem);
    document.getElementById("audioTempel").play();
    selectedItem.classList.remove("selected");
    selectedItem = null;
  }
}

function renderSoal() {
  stopTimer();
  timerStarted = false;
  selectedItem = null;
  document.getElementById("timer").style.display = "block";
  document.getElementById("waktu").textContent = "0";
  document.getElementById("bintang").textContent = "";
  document.getElementById("feedbackCorrect").style.display = "none";
  document.getElementById("feedbackWrong").style.display = "none";

  if (currentSoal >= soalList.length) {
    document.getElementById("judul").textContent = "Selesai!";
    document.getElementById("sourceContainer").style.display = "none";
    document.getElementById("targetContainer").style.display = "none";
    document.getElementById("tombolKontrol").style.display = "none";

    const nilai = Math.max(0, Math.round((skor / soalList.length) * 100));
    document.getElementById("skorAkhir").innerHTML = `
      <h3>🎯 Skor Akhir: ${nilai}%</h3>
      <p>✅ Jawaban Benar: ${skor}</p>
      <p>❌ Jawaban Salah: ${salah}</p>
      <p>⭐ Total Bintang: ${totalBintang}</p>
      <p>⏱️ Total Waktu: ${totalWaktu} detik</p>
      <button class="btn btn-reset" onclick="mulaiLagi()">🔁 Mulai Lagi</button>
    `;
    document.getElementById("skorAkhir").style.display = "block";
    document.getElementById("timer").style.display = "none";
    return;
  }

  const soal = soalList[currentSoal];
  document.getElementById("judul").textContent = soal.instruksi;

  const source = document.getElementById("sourceContainer");
  const target = document.getElementById("targetContainer");
  source.innerHTML = "";
  target.innerHTML = "";

  soal.angka.forEach((angka) => {
    const sourceSlot = document.createElement("div");
    sourceSlot.className = "slot";

    const item = document.createElement("div");
    item.className = "draggable";
    item.textContent = angka;
    item.onclick = () => handleTap(item);

    sourceSlot.appendChild(item);
    source.appendChild(sourceSlot);

    const targetSlot = document.createElement("div");
    targetSlot.className = "slot";
    targetSlot.onclick = () => handleSlotTap(targetSlot);
    target.appendChild(targetSlot);
  });
}

function resetSoal() {
  document.getElementById("feedbackWrong").style.display = "none";
  renderSoal();
}

function checkAnswer() {
  const jawabanUser = Array.from(document.querySelectorAll("#targetContainer .slot"))
    .map(slot => slot.textContent.trim()).filter(Boolean);
  const jawabanBenar = soalList[currentSoal].jawaban;

  if (JSON.stringify(jawabanUser) === JSON.stringify(jawabanBenar)) {
    stopTimer();
    const waktuSelesai = parseInt(document.getElementById("waktu").textContent);
    totalWaktu += waktuSelesai;
    const bintang = waktuSelesai <= 10 ? 3 : waktuSelesai <= 20 ? 2 : 1;
    totalBintang += bintang;
    document.getElementById("bintang").textContent = '⭐'.repeat(bintang);
    document.getElementById("feedbackCorrect").style.display = "block";
    document.getElementById("audioBenar").play();
    skor++;
    currentSoal++;
    setTimeout(renderSoal, 1500);
  } else {
    stopTimer();
    salah++;
    if (skor > 0) skor--;
    document.getElementById("feedbackWrong").style.display = "block";
    document.getElementById("audioSalah").play();
  }
}

function startTimer() {
  waktuMulai = Date.now();
  timerStarted = true;
  timerInterval = setInterval(() => {
    const elapsed = Math.floor((Date.now() - waktuMulai) / 1000);
    document.getElementById("waktu").textContent = elapsed;
  }, 1000);
}

function stopTimer() {
  clearInterval(timerInterval);
  timerStarted = false;
}

function mulaiLagi() {
  currentSoal = 0;
  skor = 0;
  salah = 0;
  totalBintang = 0;
  totalWaktu = 0;
  soalList = [...soalListOriginal].sort(() => Math.random() - 0.5).slice(0, 5);
  document.getElementById("sourceContainer").style.display = "flex";
  document.getElementById("targetContainer").style.display = "flex";
  document.getElementById("tombolKontrol").style.display = "flex";
  document.getElementById("skorAkhir").style.display = "none";
  document.getElementById("timer").style.display = "block";
  renderSoal();
}

renderSoal();
</script>



</body>
</html>
