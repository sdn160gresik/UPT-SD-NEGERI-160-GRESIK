<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kuis Bilangan</title>
<style>
.kotak-soal {
    background-color: white;
    border: 2px solid #add8e6;
    border-radius: 10px;
    padding: 15px 20px;
    margin-bottom: 15px;
    max-width: 600px;
    width: 100%;
}
body {
    font-family: 'Arial', sans-serif;
    padding: 20px;
    background-image: url('https://i.imgur.com/IFKQPGS.png');
    background-size: cover;
    background-position: center;
}
.container {
    max-width: 100%;
    margin: 0 auto;
    padding: 20px;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
}
.nav {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-bottom: 20px;
}
.nav a {
    text-decoration: none;
    color: #2c3e50;
    font-weight: bold;
    background-color: white;
    padding: 10px 15px;
    border: 2px solid #add8e6;
    border-radius: 8px;
}
.answers label {
    display: block;
    margin-bottom: 12px;
    padding: 10px 14px;
    border-radius: 6px;
    cursor: pointer;
    color: #2c3e50;
    font-weight: bold;
    transition: background 0.2s, transform 0.1s;
}
.answers input[type="radio"] {
    margin-right: 10px;
    accent-color: #007bff;
    transform: scale(1.2);
}
.answers label:nth-child(1) { background: #d6eaff; }
.answers label:nth-child(2) { background: #d6ffd9; }
.answers label:nth-child(3) { background: #fffbd6; }
.answers label:nth-child(4) { background: #ffd6e7; }
.answers label:hover {
    filter: brightness(0.9);
    transform: scale(1.02);
}
button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    margin-top: 10px;
}
button:hover {
    background-color: #0056b3;
}
.popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 25px 35px;
    border-radius: 12px;
    text-align: center;
    z-index: 2000;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    font-size: 18px;
    font-weight: bold;
    animation: pop 0.3s ease-out;
    max-width: 90%;
}
.popup-warning {
    background: #fff3cd;
    border: 2px solid #ffecb5;
    color: #856404;
}
.popup-success {
    background: #d4edda;
    border: 2px solid #c3e6cb;
    color: #155724;
}
.popup-gold {
    background: #fff8e1;
    border: 2px solid #ffeb3b;
    color: #8d6e00;
}
.nilai-besar {
    font-size: 48px;
    font-weight: bold;
    display: block;
    margin: 10px 0;
}
.nilai-merah { color: #e74c3c; }
.nilai-kuning { color: #f39c12; }
.nilai-hijau { color: #27ae60; }
.nilai-emas { color: #d4af37; }
.peringkat-merah { color: #e74c3c; }
.peringkat-kuning { color: #f39c12; }
.peringkat-hijau { color: #27ae60; }
.peringkat-emas { color: #d4af37; }
@keyframes pop {
    0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}
</style>
</head>
<body>
<div class="container">
    <div class="nav">
        <a href="üè∞Kerajaan-Angka-Ajaib.html">‚óÄÔ∏è kembali</a>
        <a href="soal-wisata4.pdf" download>üì• Download</a>
    </div>
    <h1 style="color: #2c3e50; text-align: center; background-color: white; padding: 10px 20px; border-radius: 10px; border: 2px solid #add8e6;">
        üßô‚Äç‚ôÇÔ∏è Petualangan Angka Ajaib
    </h1>
    <div id="quiz"></div>
</div>

<audio id="suaraKlik" src="../../suara/mouse-clicks.mp3"></audio>
<audio id="suaraPeringatan" src="../../suara/tada-234709.mp3"></audio>

<script>
let soalAsli = [
  { q: "Bilangan 34.729 dibaca ‚Ä¶.",
    a: ["Tiga puluh empat ribu tujuh ratus dua puluh sembilan",
        "Tiga ribu empat ratus tujuh puluh dua sembilan",
        "Tiga puluh empat ribu tujuh ratus sembilan puluh dua",
        "Tiga ratus empat puluh tujuh ribu dua puluh sembilan"],
    k: 0 },

  { q: "Tulisan ‚Äúdua puluh ribu seratus lima puluh tujuh‚Äù adalah bilangan ‚Ä¶.",
    a: ["20.517", "21.507", "20.157", "20.751"],
    k: 0 },

  { q: "Bilangan 68.305 dibaca ‚Ä¶.",
    a: ["Enam puluh delapan ribu tiga ratus lima",
        "Enam ribu delapan ratus tiga puluh lima",
        "Enam puluh delapan ribu tiga puluh lima",
        "Enam ribu delapan ratus lima"],
    k: 2 },

  { q: "Tulisan angka dari ‚Äúsembilan ribu dua ratus tujuh belas‚Äù adalah ‚Ä¶.",
    a: ["9.217", "9.127", "9.172", "9.721"],
    k: 0 },

  { q: "Nilai angka 5 pada bilangan 52.483 adalah ‚Ä¶.",
    a: ["50", "500", "5.000", "50.000"],
    k: 3 },

  { q: "Angka 8 pada bilangan 48.631 menempati nilai ‚Ä¶.",
    a: ["Satuan", "Puluhan", "Ratusan", "Ribuan"],
    k: 3 },

  { q: "Nilai tempat angka 7 pada bilangan 37.549 adalah ‚Ä¶.",
    a: ["Puluhan ribu", "Ribuan", "Ratusan", "Satuan"],
    k: 0 },

  { q: "Pada bilangan 80.426, angka 8 menempati nilai ‚Ä¶.",
    a: ["Satuan", "Puluhan ribu", "Ratusan", "Ribuan"],
    k: 1 },

  { q: "Manakah yang benar?",
    a: ["54.623 < 54.236",
        "72.105 > 71.205",
        "23.541 = 23.451",
        "19.874 > 20.784"],
    k: 1 },

  { q: "46.319 ‚Ä¶ 46.391 (isi tanda yang tepat)",
    a: [">", "<", "=", "‚â†"],
    k: 1 },

  { q: "Urutan bilangan dari yang terkecil: 13.205, 13.520, 13.052, 13.502",
    a: ["13.502 ‚Äì 13.520 ‚Äì 13.205 ‚Äì 13.052",
        "13.052 ‚Äì 13.205 ‚Äì 13.502 ‚Äì 13.520",
        "13.205 ‚Äì 13.052 ‚Äì 13.502 ‚Äì 13.520",
        "13.520 ‚Äì 13.502 ‚Äì 13.205 ‚Äì 13.052"],
    k: 1 },

  { q: "Urutan dari terbesar: 7.845, 7.584, 7.854, 7.485",
    a: ["7.485 ‚Äì 7.584 ‚Äì 7.845 ‚Äì 7.854",
        "7.854 ‚Äì 7.845 ‚Äì 7.584 ‚Äì 7.485",
        "7.845 ‚Äì 7.854 ‚Äì 7.485 ‚Äì 7.584",
        "7.584 ‚Äì 7.854 ‚Äì 7.485 ‚Äì 7.845"],
    k: 1 },

  { q: "3.726 + 4.815 = ‚Ä¶.",
    a: ["8.541", "8.551", "8.531", "8.561"],
    k: 1 },

  { q: "9.236 ‚Äì 4.728 = ‚Ä¶.",
    a: ["4.508", "4.518", "4.528", "4.538"],
    k: 0 },

  { q: "246 √ó 7 = ‚Ä¶.",
    a: ["1.722", "1.732", "1.742", "1.762"],
    k: 0 },

  { q: "3.564 √∑ 9 = ‚Ä¶.",
    a: ["394", "396", "398", "399"],
    k: 1 },

  { q: "Hasil dari 2.315 + 4.207 ‚Äì 3.426 adalah ‚Ä¶.",
    a: ["3.086", "3.096", "3.076", "3.066"],
    k: 0 },

  { q: "735 √ó 6 = ‚Ä¶.",
    a: ["4.310", "4.320", "4.410", "4.420"],
    k: 2 },

  { q: "10.248 √∑ 12 = ‚Ä¶.",
    a: ["852", "853", "854", "855"],
    k: 0 }
];

let soal = [];
let indeks = 0;
let benar = 0;

function acakArray(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
}

function ambilSoalAcak() {
    let copy = [...soalAsli];
    acakArray(copy);
    return copy.slice(0, 10); // ambil 10 soal acak
}

function acakJawabanSoal(s) {
    let gabung = s.a.map((teks, i) => ({ teks, benar: i === s.k }));
    acakArray(gabung);
    s.a = gabung.map(o => o.teks);
    s.k = gabung.findIndex(o => o.benar);
}

function tampilkanSoal() {
    const quiz = document.getElementById("quiz");
    if (indeks >= soal.length) {
        const nilai = Math.round((benar / soal.length) * 100);
        let peringkat = "";
        let kelasPopup = "popup-success";
        let warnaNilai = "nilai-merah";
        let warnaPeringkat = "peringkat-merah";

        if (nilai === 100) {
            peringkat = "üèÜ Luar biasa! Kamu benar semua, Sang Juara!";
            kelasPopup = "popup-gold";
            warnaNilai = "nilai-emas";
            warnaPeringkat = "peringkat-emas";
        } else if (nilai >= 80) {
            peringkat = "ü•à Hebat! Hanya sedikit lagi menuju sempurna!";
            warnaNilai = "nilai-hijau";
            warnaPeringkat = "peringkat-hijau";
        } else if (nilai >= 60) {
            peringkat = "ü•â Lumayan! Tingkatkan lagi biar makin mantap!";
            warnaNilai = "nilai-kuning";
            warnaPeringkat = "peringkat-kuning";
        } else {
            peringkat = "üí° Jangan menyerah, ayo coba lagi!";
        }

        tampilkanPopupHasil(`
            üéâ Selesai!<br>
            Benar: ${benar} / ${soal.length}<br>
            Nilai: <span class="nilai-besar ${warnaNilai}">${nilai}%</span>
            <span class="${warnaPeringkat}">${peringkat}</span>
        `, kelasPopup);
        return;
    }
    const s = soal[indeks];
    quiz.innerHTML = `
    <div class="kotak-soal">${s.q}</div>
    <div class="answers">
        ${s.a.map((j, i) => `
            <label>
                <input type="radio" name="jawaban" value="${i}" onclick="mainkanSuaraKlik()" /> 
                ${j}
            </label>`).join('')}
    </div>
    <button onclick="periksaJawaban()">Next</button>
    `;
}

function periksaJawaban() {
    const jawaban = document.querySelector('input[name="jawaban"]:checked');
    if (!jawaban) {
        mainkanSuaraPeringatan();
        tampilkanPopup("üéØ Ayo tentukan jawabanmu, kamu pasti bisa!", "popup-warning");
        return;
    }
    if (parseInt(jawaban.value) === soal[indeks].k) benar++;
    indeks++;
    tampilkanSoal();
}

function tampilkanPopup(teks, kelas = "popup-warning") {
    const popup = document.createElement("div");
    popup.className = `popup ${kelas}`;
    popup.innerHTML = teks;
    document.body.appendChild(popup);
    setTimeout(() => popup.remove(), 3000);
}

function tampilkanPopupHasil(teks, kelas) {
    const popup = document.createElement("div");
    popup.className = `popup ${kelas}`;
    popup.innerHTML = `${teks}<br><br><button onclick="muatUlang()">Mulai Lagi</button>`;
    document.body.appendChild(popup);
}

function muatUlang() {
    document.querySelectorAll('.popup').forEach(p => p.remove());
    indeks = 0;
    benar = 0;
    soal = ambilSoalAcak();
    soal.forEach(s => acakJawabanSoal(s));
    tampilkanSoal();
}

function mainkanSuaraKlik() {
    const suara = document.getElementById("suaraKlik");
    suara.currentTime = 0;
    suara.play();
}

function mainkanSuaraPeringatan() {
    const suara = document.getElementById("suaraPeringatan");
    suara.currentTime = 0;
    suara.play();
}

// Pertama kali load
muatUlang();
</script>
</body>
</html>
